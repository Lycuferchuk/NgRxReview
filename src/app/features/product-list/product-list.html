<div class="product-list">
  @if (isMobile) {
    <button
      mat-raised-button
      class="nexus-button product-list__filter-toggle"
      (click)="toggleFilters()">
      <mat-icon>filter_list</mat-icon>
      Фільтри
      @if (filtersCounter()) {
        <span class="badge ml-4">{{ filtersCounter() }}</span>
      }
    </button>
    <mat-divider class=""></mat-divider>
  }

  <mat-sidenav-container class="nexus-sidenav product-list__container">
    <mat-sidenav
      #sidenav
      [mode]="isMobile ? 'over' : 'side'"
      [opened]="!isMobile"
      class="product-list__sidenav">
      <nxs-filter></nxs-filter>
    </mat-sidenav>

    <mat-sidenav-content>
      <div class="flex product-list__list gap-16">
        @if (loading()) {
          @for (item of skeletonItems; track item) {
            <nxs-skeleton-card></nxs-skeleton-card>
          }
        } @else if (products().length === 0) {
          <div class="w-100 flex items-center">
            <nxs-no-data [type]="emptyStateType.NO_RESULTS"></nxs-no-data>
          </div>
        } @else {
          @for (product of products(); track product.id) {
            <nxs-product-card [product]="product"></nxs-product-card>
          }
        }
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>

  @if (isMobile && filtersCounter()) {
    <button
      mat-fab
      color="warn"
      class="product-list__reset-fab"
      (click)="resetFilters()">
      <mat-icon>filter_alt_off</mat-icon>
      <span class="product-list__reset-fab-badge">{{ filtersCounter() }}</span>
    </button>
  }
</div>
