<app-pip-header></app-pip-header>

<div class="cart-page">
  <h1 class="cart-page__title">–í–∞—à –∫–æ—à–∏–∫</h1>

  @if (items.length) {
    <div class="cart-page__content">
      <div class="cart-page__items">
        @for (item of items; track item.product.id) {
          <mat-card class="cart-item">
            <div class="cart-item__image-wrap">
              <img
                class="cart-item__image"
                [src]="item.product.imageUrl"
                alt="{{ item.product.name }}"
              />
            </div>

            <div class="cart-item__info">
              <div class="item-name">
                <h2>{{ item.product.name }}</h2>
                <p class="cart-item__type">–¢–∏–ø: {{ item.product.type }}</p>
                <p class="cart-item__brand">–ë—Ä–µ–Ω–¥: {{ item.product.brand }}</p>
              </div>

              <div class="cart-item__price-block">
                <span class="cart-item__price">
                  {{ item.product.price | currency }}
                </span>

                <button
                mat-flat-button
                color="warn"
                (click)="removeFromCart(item.product.id)"
              >
                –í–∏–¥–∞–ª–∏—Ç–∏
              </button>
              </div>

            </div>
          </mat-card>
        }
      </div>

      <div class="cart-page__summary">
        <mat-card>
          <h2>–†–∞–∑–æ–º:</h2>
          <p class="summary__price">{{ totalPrice | currency }}</p>

          <button (click)="orderCart()" mat-flat-button color="primary" class="summary__checkout">
            –û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
          </button>
        </mat-card>
      </div>
    </div>
  }

  @if (!items.length) {
    <p class="cart-page__empty">–í–∞—à –∫–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π üõí</p>
  }
</div>

